*** Settings ***
Test Setup        WebDriverWrapper.Open Firefox
Library           ../../POMtesting/page_objects/WebDriverWrapper.py
Library           ../../POMtesting/page_objects/Home.py
Library           ../../POMtesting/page_objects/SignUp.py
Library           ../../POMtesting/page_objects/AddCard.py
Library           ../../POMtesting/page_objects/Book.py
Library           ../../POMtesting/page_objects/MyZola.py
Library           ../../POMtesting/modal_objects/BookModal.py
Library           ../../POMtesting/modal_objects/PurchaseConfirmModal.py
Library           ../../POMtesting/modal_objects/SignInModal.py

*** Test Cases ***
No Account
    Home.Click First Bestseller
    ${BOOK_TITLE}=    BookModal.Get Book Title
    BookModal.Click Full Profile
    Book.Click Buy
    SignInModal.Click Sign Up
    SignUp.Submit New Member Info
    AddCard.Submit New CC Info
    PurchaseConfirmModal.Click Receive Emails
    PurchaseConfirmModal.Click Buy
    PurchaseConfirmModal.Click Done
    Home.Click My Zola
    MyZola.First Activity Should Be Purchased Book    ${BOOK_TITLE}

Signed In
    Home.Click Sign In
    SignInModal.Click Sign Up
    ${EMAIL}=    SignUp.Submit New Member Info
    Home.Click First Bestseller
    ${BOOK_TITLE}=    BookModal.Get Book Title
    BookModal.Click Full Profile
    Book.Click Buy
    AddCard.Submit New CC Info
    PurchaseConfirmModal.Click Receive Emails
    PurchaseConfirmModal.Click Buy
    PurchaseConfirmModal.Click Done
    Home.Click My Zola
    MyZola.First Activity Should Be Purchased Book    ${BOOK_TITLE}

Not Signed In
    Home.Click Sign In
    SignInModal.Click Sign Up
    ${EMAIL}=    SignUp.Submit New Member Info
    Home.Click Sign Out
    Home.Click First Bestseller
    ${BOOK_TITLE}=    BookModal.Get Book Title
    BookModal.Click Full Profile
    Book.Click Buy
    SignInModal.Sign In    ${EMAIL}    password
    AddCard.Submit New CC Info
    PurchaseConfirmModal.Click Receive Emails
    PurchaseConfirmModal.Click Buy
    PurchaseConfirmModal.Click Done
    Home.Click My Zola
    MyZola.First Activity Should Be Purchased Book    ${BOOK_TITLE}
