*** Settings ***
Documentation     This suite tests purchasing a book from a modal under various conditions.
Library           ../../POMtesting/page_objects/WebDriverWrapper.py
Library           ../../POMtesting/page_objects/UserProfile.py
Library           ../../POMtesting/page_objects/SignUp.py
Library           ../../POMtesting/page_objects/MyZola.py
Library           ../../POMtesting/page_objects/Home.py
Library           ../../POMtesting/page_objects/Category.py
Library           ../../POMtesting/page_objects/Booksellers.py
Library           ../../POMtesting/page_objects/BooksellerProfile.py
Library           ../../POMtesting/page_objects/Book.py
Library           ../../POMtesting/page_objects/Bestsellers.py
Library           ../../POMtesting/page_objects/AddCard.py
Library           ../../POMtesting/page_objects/ACPProfile.py
Library           ../../POMtesting/page_objects/ACPList.py
Library           ../../POMtesting/modal_objects/ACPModal.py
Library           ../../POMtesting/modal_objects/BookModal.py
Library           ../../POMtesting/modal_objects/BooksellerModal.py
Library           ../../POMtesting/modal_objects/MessageModal.py
Library           ../../POMtesting/modal_objects/PledgeModal.py
Library           ../../POMtesting/modal_objects/PurchaseConfirmModal.py
Library           ../../POMtesting/modal_objects/RecommendModal.py
Library           ../../POMtesting/modal_objects/RecommendModal.py
Library           ../../POMtesting/modal_objects/SignInModal.py
Library           ../../POMtesting/modal_objects/UserModal.py

*** Test Cases ***
No Account
    Home.Click First Bestseller
    ${BOOK_TITLE}=    BookModal.Get Book Title
    BookModal.Click Buy
    SignInModal.Click Signup
    SignUp.Submit New Member Info
    AddCard.Submit New CC Info
    PurchaseConfirmModal.Click Receive Emails
    PurchaseConfirmModal.Click Buy
    PurchaseConfirmModal.Click Done
    Home.Click My Zola
    MyZola.First Activity Should Be Purchased Book    ${BOOK_TITLE}

Signed In
    Home.Click Sign In
    SignInModal.Click Sign Up
    ${EMAIL}=    SignUp.Submit New Member Info
    Home.Click First Bestseller
    ${BOOK_TITLE}=    BookModal.Get Book Title
    BookModal.Click Buy
    AddCard.Submit New CC Info
    PurchaseConfirmModal.Click Receive Emails
    PurchaseConfirmModal.Click Buy
    PurchaseConfirmModal.Click Done
    Home.Click My Zola
    MyZola.First Activity Should Be Purchased Book    ${BOOK_TITLE}

Not Signed In
    Home.Click Sign In
    SignInModal.Click Sign Up
    ${EMAIL}=    SignUp.Submit New Member Info
    Home.Click Sign Out
    Home.Click First Bestseller
    ${BOOK_TITLE}=    BookModal.Get Book Title
    BookModal.Click Buy
    SignInModal.Sign In    ${EMAIL}    password
    AddCard.Submit New CC Info
    PurchaseConfirmModal.Click Receive Emails
    PurchaseConfirmModal.Click Buy
    PurchaseConfirmModal.Click Done
    Home.Click My Zola
    MyZola.First Activity Should Be Purchased Book    ${BOOK_TITLE}

*** Keywords ***
